<!doctype html>
<html lang="en">

<head>
    <title>Register | Example</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

</head>

<body>

    <div class="p-3">
        <h1>Register | Example</h1>
        <hr>
        <div class="container m-3" style="max-width: 500px;">
            <form action="http://harahapproject.biz.id/ms-kbc/member/" method="post">
                <input type="text" name="name" class="form-control mt-2" placeholder="name" required>
                <div class="mt-3 row" style="height: 20%; max-width: 500px">
                    <div class="col">
                        Coor X <input type="text" name="coorX" id="coor_x" class="form-control mt-2" value="0">
                    </div>
                    <div class="col">
                        Coor Y <input type="text" name="coorY" id="coor_y" class="form-control mt-2" value="0">
                    </div>
                </div><br>
                <div id="map2" style="width: 500px; height: 500px;"></div>
                <script>
                    const map = L.map("map2").setView([52.22977, 21.01178], 13);
                    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        maxZoom: 19,
                        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                    }).addTo(map);

                    map
                        .locate({
                            setView: true,
                            enableHighAccuracy: true,
                        })
                        .on('locationfound', (e) => {
                            console.log(e);
                            newlat = e.latitude;
                            newlong = e.longitude;
                            const marker = L.marker([newlat, newlong]).bindPopup(
                                "Your are here :)"
                            );
                            document.getElementById('coor_x').value = newlat;
                            document.getElementById('coor_y').value = newlong;
                            map.addLayer(marker);
                        })
                        .on("locationerror", (e) => {
                            console.log(e);
                            alert("Location access denied.");
                        });
                </script>
                <input type="text" name="detail" class="form-control mt-2" placeholder="detail" required>
                <input type="text" name="kodepos" class="form-control mt-2" placeholder="kodepos" required>
                <input type="text" name="whatsapp" class="form-control mt-2" placeholder="whatsapp" required>
                <input type="password" name="password" class="form-control mt-2" placeholder="password" required>
                <input type="text" name="business" class="form-control mt-2" placeholder="business" required>
                <input type="text" name="email" class="form-control mt-2" placeholder="email" required>
                <input type="submit" value="Register" name="action" class="btn btn-primary mt-5" style="width:100%">
            </form>
        </div>
    </div>

    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous">
    </script>
</body>

</html>